{"name":"ed","scopeName":"source.ed","patterns":[{"name":"comment.line.number-sign.hashbang.source.ed","begin":"\\A#!","end":"$","beginCaptures":{"0":{"name":"punctuation.definition.comment.source.ed"}}},{"include":"#main"}],"repository":{"address":{"patterns":[{"match":"(?:\\G|^|(?\u003c=[,mt]))[ \\t]*(?:(\\.)|(\\$)|([-^])|(\\+)|([,%])|(;)|(\\d+)|([-^]\\d+)|(\\+\\d+)|((')[a-z]))","captures":{"1":{"name":"variable.language.address.current-line.ed"},"10":{"name":"variable.address.marked-line.ed"},"11":{"name":"punctuation.definition.variable.marked-line.ed"},"2":{"name":"variable.language.address.last-line.ed"},"3":{"name":"variable.language.address.previous-line.ed"},"4":{"name":"variable.language.address.next-line.ed"},"5":{"name":"variable.language.address.range.first-to-last.ed"},"6":{"name":"variable.language.address.range.current-to-last.ed"},"7":{"name":"constant.numeric.line-index.address.nth-line.ed"},"8":{"name":"constant.numeric.line-index.address.nth-previous-line.ed"},"9":{"name":"constant.numeric.line-index.address.nth-next-line.ed"}}},{"name":"meta.address.pattern.search-forward.repeat-last.ed","match":"(?:\\G|^|(?\u003c=,))[ \\t]*(//|/$)","captures":{"1":{"name":"punctuation.delimiter.pattern.empty.ed"}}},{"name":"meta.address.pattern.search-forward.ed","contentName":"string.regexp.address.ed","begin":"(?:\\G|^|(?\u003c=,))[ \\t]*(/)","end":"/|(?=$)","patterns":[{"include":"#regexp"}],"beginCaptures":{"1":{"name":"punctuation.delimiter.pattern.begin.ed"}},"endCaptures":{"0":{"name":"punctuation.delimiter.pattern.end.ed"}}},{"name":"meta.address.pattern.search-backward.repeat-last.ed","match":"(?:\\G|^|(?\u003c=,))[ \\t]*(\\?\\?|\\?$)","captures":{"1":{"name":"punctuation.delimiter.pattern.empty.ed"}}},{"name":"meta.address.pattern.search-backward.ed","contentName":"string.regexp.address.ed","begin":"(?:\\G|^|(?\u003c=,))[ \\t]*(\\?)","end":"\\?|(?=$)","patterns":[{"include":"#regexp"}],"beginCaptures":{"1":{"name":"punctuation.delimiter.pattern.begin.ed"}},"endCaptures":{"0":{"name":"punctuation.delimiter.pattern.end.ed"}}}]},"comma":{"name":"punctuation.separator.range.address.comma.ed","match":","},"command":{"patterns":[{"name":"meta.command.append-text.ed","begin":"(a)([pln]*)$","end":"(?!\\G)","patterns":[{"include":"#inputMode"}],"beginCaptures":{"1":{"name":"keyword.control.command.ed"},"2":{"patterns":[{"include":"#printSuffix"}]}}},{"name":"meta.command.change-lines.ed","begin":"(c)([pln]*)$","end":"(?!\\G)","patterns":[{"include":"#inputMode"}],"beginCaptures":{"1":{"name":"keyword.control.command.ed"},"2":{"patterns":[{"include":"#printSuffix"}]}}},{"name":"meta.command.delete-lines.ed","match":"(d)([pln]*)(?=\\\\?$)","captures":{"1":{"name":"keyword.control.command.ed"},"2":{"patterns":[{"include":"#printSuffix"}]}}},{"name":"meta.command.edit-command-output.ed","match":"(e)[ \\t]+(!.*?)(?=\\\\?$)","captures":{"1":{"name":"keyword.control.command.ed"},"2":{"patterns":[{"include":"#shell"}]}}},{"name":"meta.command.edit-file.ed","contentName":"constant.other.filename.path.ed","begin":"(e)(?=\\s|$)[ \\t]*(?!!)","end":"(?=\\\\?$)","beginCaptures":{"0":{"name":"keyword.control.command.ed"}}},{"name":"meta.command.edit-file.discard-unsaved-changes.ed","contentName":"constant.other.filename.path.ed","begin":"(E)(?=\\s|$)[ \\t]*(?!!)","end":"(?=\\\\?$)","beginCaptures":{"0":{"name":"keyword.control.command.ed"}}},{"name":"meta.command.set-default-filename.ed","contentName":"constant.other.filename.path.ed","begin":"(f)(?=\\s|$)[ \\t]*","end":"(?=\\\\?$)","beginCaptures":{"0":{"name":"keyword.control.command.ed"}}},{"name":"meta.command.conditional.ed","begin":"g(?=/)","end":"(?\u003c!\\\\)$","patterns":[{"include":"#commandList"}],"beginCaptures":{"0":{"name":"keyword.control.command.ed"}}},{"name":"meta.command.conditional.edit-interactively.ed","begin":"G(?=/)","end":"(?\u003c!\\\\)$","patterns":[{"include":"#commandList"}],"beginCaptures":{"0":{"name":"keyword.control.command.ed"}}},{"name":"meta.command.toggle-error-reporting.ed","match":"(H)([pln]*)(?=\\\\?$)","captures":{"1":{"name":"keyword.control.command.ed"},"2":{"patterns":[{"include":"#printSuffix"}]}}},{"name":"meta.command.print-error-info.ed","match":"(h)([pln]*)(?=\\\\?$)","captures":{"1":{"name":"keyword.control.command.ed"},"2":{"patterns":[{"include":"#printSuffix"}]}}},{"name":"meta.command.insert-text.ed","begin":"(i)([pln]*)$","end":"(?!\\G)","patterns":[{"include":"#inputMode"}],"beginCaptures":{"1":{"name":"keyword.control.command.ed"},"2":{"patterns":[{"include":"#printSuffix"}]}}},{"name":"meta.command.join-lines.ed","match":"(j)([pln]*)(?=\\\\?$)","captures":{"1":{"name":"keyword.control.command.ed"},"2":{"patterns":[{"include":"#printSuffix"}]}}},{"name":"meta.command.mark-line.ed","match":"(k)(?:([a-z])|([^a-z]))([pln]*)(?=\\\\?$)","captures":{"1":{"name":"storage.type.mark.ed"},"2":{"name":"entity.name.mark.ed"},"3":{"name":"invalid.illegal.not-lowercase.ed"},"4":{"patterns":[{"include":"#printSuffix"}]}}},{"name":"meta.command.print-lines-unambiguously.ed","match":"(l)([pln]*)(?=\\\\?$)","captures":{"1":{"name":"keyword.control.command.ed"},"2":{"patterns":[{"include":"#printSuffix"}]}}},{"name":"meta.command.move-lines.ed","match":"(m)(.*?)([pln]*)(?=\\\\?$)","captures":{"1":{"name":"keyword.control.command.ed"},"2":{"patterns":[{"include":"#address"}]},"3":{"patterns":[{"include":"#printSuffix"}]}}},{"name":"meta.command.print-numbered-lines.ed","match":"(n)([pln]*)(?=\\\\?$)","captures":{"1":{"name":"keyword.control.command.ed"},"2":{"patterns":[{"include":"#printSuffix"}]}}},{"name":"meta.command.print-lines.ed","match":"(p)([pln]*)(?=\\\\?$)","captures":{"1":{"name":"keyword.control.command.ed"},"2":{"patterns":[{"include":"#printSuffix"}]}}},{"name":"meta.command.toggle-prompt.ed","match":"(P)([pln]*)(?=\\\\?$)","captures":{"1":{"name":"keyword.control.command.ed"},"2":{"patterns":[{"include":"#printSuffix"}]}}},{"name":"meta.command.quit.ed","match":"(q)([pln]*)(?=\\\\?$)","captures":{"1":{"name":"keyword.control.command.ed"},"2":{"patterns":[{"include":"#printSuffix"}]}}},{"name":"meta.command.quit.discard-unsaved-changes.ed","match":"(Q)([pln]*)(?=\\\\?$)","captures":{"1":{"name":"keyword.control.command.ed"},"2":{"patterns":[{"include":"#printSuffix"}]}}},{"name":"meta.command.read-command-output.ed","match":"(r)[ \\t]+(!.*?)(?=\\\\?$)","captures":{"1":{"name":"keyword.control.command.ed"},"2":{"patterns":[{"include":"#shell"}]}}},{"name":"meta.command.read-file.ed","contentName":"constant.other.filename.path.ed","begin":"(r)(?=\\s|$)[ \\t]*(?!!)","end":"(?=\\\\?$)","beginCaptures":{"0":{"name":"keyword.control.command.ed"}}},{"name":"meta.substitution.ed","begin":"s","end":"(?=\\\\?$)","patterns":[{"include":"#substitution"}],"beginCaptures":{"0":{"name":"keyword.control.command.ed"}}},{"name":"meta.command.copy-lines.ed","begin":"t","end":"([pln]*)(?=\\\\?$)","patterns":[{"include":"#address"}],"beginCaptures":{"0":{"name":"keyword.control.command.ed"}},"endCaptures":{"1":{"patterns":[{"include":"#printSuffix"}]}}},{"name":"meta.command.undo.ed","match":"(u)([pln]*)(?=\\\\?$)","captures":{"1":{"name":"keyword.control.command.ed"},"2":{"patterns":[{"include":"#printSuffix"}]}}},{"name":"meta.command.conditional.inverted.ed","begin":"v(?=/)","end":"(?\u003c!\\\\)$","patterns":[{"include":"#commandList"}],"beginCaptures":{"0":{"name":"keyword.control.command.ed"}}},{"name":"meta.command.conditional.edit-interactively.inverted.ed","begin":"V(?=/)","end":"(?\u003c!\\\\)$","patterns":[{"include":"#commandList"}],"beginCaptures":{"0":{"name":"keyword.control.command.ed"}}},{"name":"meta.command.write-lines-to-command.ed","match":"(w)[ \\t]+(!.*?)(?=\\\\?$)","captures":{"1":{"name":"keyword.control.command.ed"},"2":{"patterns":[{"include":"#shell"}]}}},{"name":"meta.command.write-lines-to-file.ed","contentName":"constant.other.filename.path.ed","begin":"(w)(?=\\s|$)[ \\t]*(?!!)","end":"(?=\\\\?$)","beginCaptures":{"0":{"name":"keyword.control.command.ed"}}},{"name":"meta.command.write-lines-to-file.quit.ed","contentName":"constant.other.filename.path.ed","begin":"(wq)(?=\\s|$)[ \\t]*(?!!)","end":"(?=\\\\?$)","beginCaptures":{"0":{"name":"keyword.control.command.ed"}}},{"name":"meta.command.append-lines-to-file.ed","contentName":"constant.other.filename.path.ed","begin":"(W)(?=\\s|$)[ \\t]*","end":"(?=\\\\?$)","beginCaptures":{"0":{"name":"keyword.control.command.ed"}}},{"name":"meta.command.set-encryption-key.ed","match":"(x)([pln]*)(?=\\\\?$)","captures":{"1":{"name":"keyword.control.command.ed"},"2":{"patterns":[{"include":"#printSuffix"}]}}},{"name":"meta.command.scroll.ed","match":"(z)(\\d+)?([pln]*)(?=\\\\?$)","captures":{"1":{"name":"keyword.control.command.ed"},"2":{"name":"constant.numeric.integer.int.line-count.ed"},"3":{"patterns":[{"include":"#printSuffix"}]}}},{"name":"meta.command.print-line-number.ed","match":"(=)([pln]*)(?=\\\\?$)","captures":{"1":{"name":"keyword.control.command.ed"},"2":{"patterns":[{"include":"#printSuffix"}]}}},{"name":"meta.command.shell.ed","match":"(!.*?)(?=\\\\?$)","captures":{"1":{"patterns":[{"include":"#shell"}]}}}]},"commandList":{"patterns":[{"name":"meta.pattern.ed","contentName":"string.regexp.search.ed","begin":"\\G/","end":"(?=/|$)","patterns":[{"include":"#regexp"}],"beginCaptures":{"0":{"name":"punctuation.delimiter.pattern.begin.ed"}}},{"contentName":"meta.command-list.ed","begin":"(?!\\G)(/)","end":"(?=(?\u003c!\\\\)$)","patterns":[{"include":"#escapedNewline"},{"name":"meta.command.append-text.ed","contentName":"string.unquoted.user-input.ed","begin":"(a)([pln]*)(\\\\)$","end":"^(\\.)(?=\\\\?$)|^(?!\\.)(.*)(?\u003c!\\\\)$","patterns":[{"include":"#escapedNewline"}],"beginCaptures":{"1":{"name":"keyword.control.command.ed"},"2":{"patterns":[{"include":"#printSuffix"}]},"3":{"patterns":[{"include":"#escapedNewline"}]}},"endCaptures":{"1":{"patterns":[{"include":"#inputTerminator"}]},"2":{"name":"string.unquoted.user-input.ed"}}},{"name":"meta.command.change-lines.ed","contentName":"string.unquoted.user-input.ed","begin":"(c)([pln]*)(\\\\)$\\R?","end":"^(\\.)(?=\\\\?$)|^(?!\\.)(.*)(?\u003c!\\\\)$","patterns":[{"include":"#escapedNewline"}],"beginCaptures":{"1":{"name":"keyword.control.command.ed"},"2":{"patterns":[{"include":"#printSuffix"}]},"3":{"patterns":[{"include":"#escapedNewline"}]}},"endCaptures":{"1":{"patterns":[{"include":"#inputTerminator"}]},"2":{"name":"string.unquoted.user-input.ed"}}},{"name":"meta.command.insert-text.ed","contentName":"string.unquoted.user-input.ed","begin":"(i)([pln]*)(\\\\)$\\R?","end":"^(\\.)(?=\\\\?$)|^(?!\\.)(.*)(?\u003c!\\\\)$","patterns":[{"include":"#escapedNewline"}],"beginCaptures":{"1":{"name":"keyword.control.command.ed"},"2":{"patterns":[{"include":"#printSuffix"}]},"3":{"patterns":[{"include":"#escapedNewline"}]}},"endCaptures":{"1":{"patterns":[{"include":"#inputTerminator"}]},"2":{"name":"string.unquoted.user-input.ed"}}},{"name":"invalid.illegal.nested-command.ed","match":"g|v|G|V"},{"include":"#command"}],"beginCaptures":{"0":{"name":"meta.pattern.ed"},"1":{"name":"punctuation.delimiter.pattern.end.ed"}}}]},"escapedNewline":{"name":"constant.character.escape.newline.ed","begin":"\\\\$(?!R)\\R?","end":"^"},"inputMode":{"name":"string.unquoted.user-input.ed","begin":"\\G","end":"^(\\.)$","endCaptures":{"1":{"patterns":[{"include":"#inputTerminator"}]}}},"inputTerminator":{"name":"keyword.control.end-input.ed","match":"\\.","captures":{"0":{"name":"punctuation.terminator.period.dot.full-stop.ed"}}},"main":{"patterns":[{"include":"#command"},{"include":"#address"},{"include":"#comma"}]},"printSuffix":{"patterns":[{"name":"keyword.control.print-suffix.print.ed","match":"p"},{"name":"keyword.control.print-suffix.list.ed","match":"l"},{"name":"keyword.control.print-suffix.enumerate.ed","match":"n"}]},"regexp":{"patterns":[{"name":"constant.language.wildcard.dot.match.any.ed","match":"\\."},{"name":"constant.language.anchor.line-start.ed","match":"\\^"},{"name":"constant.language.anchor.line-end.ed","match":"\\$"},{"name":"constant.language.anchor.word-start.ed","match":"\\\\\u003c"},{"name":"constant.language.anchor.word-end.ed","match":"\\\\\u003e"},{"name":"constant.language.quantifier.min-0.ed","match":"(?!\\G)\\*"},{"include":"source.sed#regexp.bracketExpression"},{"include":"#escapedNewline"},{"name":"meta.subexpression.ed","begin":"\\\\\\(","end":"\\\\\\)|(?=(?\u003c!\\\\)$)","patterns":[{"include":"#regexp"}],"beginCaptures":{"0":{"name":"punctuation.definition.subexpression.begin.ed"}},"endCaptures":{"0":{"name":"punctuation.definition.subexpression.end.ed"}}},{"name":"meta.quantifier.specific-range.ed","match":"(\\\\{)(\\d+)(?:(,)(\\d+)?)?(\\\\})","captures":{"1":{"name":"punctuation.definition.quantifier.bracket.curly.begin.ed"},"2":{"name":"constant.numeric.integer.ed"},"3":{"name":"punctuation.separator.range.comma.ed"},"4":{"name":"constant.numeric.integer.ed"},"5":{"name":"punctuation.definition.quantifier.bracket.curly.end.ed"}}},{"name":"constant.character.escape.literal.ed","match":"(\\\\).","captures":{"1":{"name":"punctuation.definition.escape.backslash.ed"}}}]},"shell":{"name":"meta.shell-command.ed","match":"(?:\\G|^)(!)(!?)(.*)","captures":{"1":{"name":"keyword.operator.shell-command.ed"},"2":{"name":"constant.language.previous-command-text.ed"},"3":{"name":"source.embedded.shell","patterns":[{"include":"source.shell"}]}}},"substitution":{"patterns":[{"name":"meta.match-pattern.ed","contentName":"string.regexp.substitution.search.ed","begin":"\\G([^ ])","end":"(?=\\1|(?\u003c!\\\\)$)","patterns":[{"include":"#regexp"}],"beginCaptures":{"1":{"name":"punctuation.delimiter.pattern.begin.ed"}}},{"name":"meta.replacement.ed","match":"([^ ])(%)(?:(\\1)([rgp\\d]*+)(.+?)?(?=(?\u003c!\\\\)$)|(?=(?\u003c!\\\\)$))","captures":{"1":{"name":"punctuation.delimiter.pattern.middle.ed"},"2":{"name":"constant.language.last-substitution.ed"},"3":{"name":"punctuation.delimiter.pattern.end.ed"},"4":{"patterns":[{"include":"#substitutionFlags"}]},"5":{"name":"invalid.illegal.unexpected-characters.ed"}}},{"name":"meta.replacement.ed","contentName":"string.quoted.double.ed","begin":"([^ ])","end":"(\\1)([rgp\\d]*+)(.*)|(?=(?\u003c!\\\\)$)","patterns":[{"name":"variable.language.input.ed","match":"\u0026"},{"name":"variable.language.reference.ed","match":"\\\\[0-9]"},{"name":"constant.character.escape.ed","match":"\\\\."},{"include":"#escapedNewline"}],"beginCaptures":{"1":{"name":"punctuation.delimiter.pattern.middle.ed"}},"endCaptures":{"1":{"name":"punctuation.delimiter.pattern.end.ed"},"2":{"patterns":[{"include":"#substitutionFlags"}]},"3":{"name":"invalid.illegal.unexpected-characters.ed"}}}]},"substitutionFlags":{"patterns":[{"name":"keyword.operator.modifier.repeat-last-search.ed","match":"r"},{"name":"keyword.operator.modifier.replace-all.ed","match":"g"},{"name":"keyword.operator.modifier.print.ed","match":"p"},{"name":"keyword.operator.modifier.replace-nth.ed","match":"\\d+"}]}},"injections":{"L:source.ed - meta.command-list":{"patterns":[{"match":"([=HPQdhjlnpqux]|k.|[mtz].*?)[pln]*(?=\\\\$)"}]}}}
