{"name":"StringTemplate","scopeName":"source.string-template","patterns":[{"begin":"\\A(?=\\s*$)","end":"(?=\\S)"},{"name":"meta.document.dollar-delimiters.string-template","begin":"(?xi)(?=\n\t\u003c(abbr|acronym|address|applet|area|article|aside|audio|a|basefont|base\n\t| bdi|bdo|bgsound|big|blink|blockquote|body|br|button|b|canvas|caption\n\t| center|cite|code|colgroup|col|content|datalist|data|dd|del|details|dfn\n\t| dialog|dir|div|dl|dt|embed|em|fieldset|figcaption|figure|font|footer\n\t| form|frameset|frame|h1|h2|h3|h4|h5|h6|header|head|hgroup|hr|html|iframe\n\t| image|img|input|ins|isindex|i|kbd|keygen|label|legend|link|listing|li\n\t| main|map|mark|marquee|math|menuitem|menu|meta|meter|multicol|nav|nextid\n\t| nobr|noembed|noframes|noscript|object|ol|optgroup|option|output|param\n\t| picture|plaintext|portal|pre|progress|p|q|rb|rp|rtc|rt|ruby|samp|script\n\t| section|select|shadow|slot|small|source|spacer|span|strike|strong|style\n\t| sub|summary|sup|svg|s|table|tbody|td|template|textarea|tfoot|thead|th\n\t| time|title|track|tr|tt|ul|u|var|video|wbr|xmp\n\t) (?=\\\\s|/?\u003e)[^\u003e]*\u003e\n\t| \u003c!DOCTYPE\n\t| \u003c!--.*?--\u003e\n\t| \u0026(?:amp|lt|gt|quot|nbsp|\\#(?:[xX][\\dA-Fa-f]+|\\d+));\n\t| \\$! .+? !\\$\n)","end":"(?=A)B","patterns":[{"include":"#main$"}]},{"name":"meta.document.angle-delimiters.string-template","begin":"(?\u003c!\\\\)(?=\u003c[\\a-zA-Z].*?\u003e|\u003c!.*?!\u003e)","end":"(?=A)B","patterns":[{"include":"#main"}]}],"repository":{"attribute":{"name":"meta.embedded.section.string-template","begin":"\u003c","end":"\u003e","patterns":[{"include":"#expression"}],"beginCaptures":{"0":{"name":"keyword.operator.section.begin.string-template"}},"endCaptures":{"0":{"name":"keyword.operator.section.end.string-template"}}},"attribute$":{"name":"meta.embedded.section.string-template","begin":"\\$","end":"([^$]*+)(\\$)","patterns":[{"include":"#expression"}],"beginCaptures":{"0":{"name":"keyword.operator.section.begin.string-template"}},"endCaptures":{"1":{"patterns":[{"include":"#expression"}]},"2":{"name":"keyword.operator.section.end.string-template"}}},"bareword":{"name":"variable.identifier.string-template","match":"[-\\w.]+"},"comment":{"name":"comment.block.string-template","begin":"\u003c!","end":"!\u003e","beginCaptures":{"0":{"name":"punctuation.definition.comment.begin.string-template"}},"endCaptures":{"0":{"name":"punctuation.definition.comment.end.string-template"}}},"comment$":{"name":"comment.block.string-template","begin":"\\$!","end":"!\\$","beginCaptures":{"0":{"name":"punctuation.definition.comment.begin.string-template"}},"endCaptures":{"0":{"name":"punctuation.definition.comment.end.string-template"}}},"condition":{"patterns":[{"name":"keyword.operator.logical.string-template","match":"\\|\\||\u0026\u0026|!"},{"name":"variable.identifier.string-template","match":"\\G([-\\w.]+)"},{"include":"#expression"},{"include":"#bareword"}]},"conditional":{"patterns":[{"name":"meta.embedded.conditional.$2.string-template","contentName":"meta.condition.string-template","begin":"(\u003c)(if|elseif|else|endif)(\\()","end":"(\\))(\u003e)","patterns":[{"include":"#condition"}],"beginCaptures":{"1":{"name":"keyword.operator.section.begin.string-template"},"2":{"name":"keyword.control.flow.$2.string-template"},"3":{"name":"punctuation.section.conditional.begin.string-template"}},"endCaptures":{"1":{"name":"punctuation.section.conditional.end.string-template"},"2":{"name":"keyword.operator.section.end.string-template"}}}]},"conditional$":{"patterns":[{"name":"meta.embedded.conditional.$2.string-template","contentName":"meta.condition.string-template","begin":"(\\$)(if|elseif|else|endif)(\\()","end":"(\\))(\\$)","patterns":[{"include":"#condition"}],"beginCaptures":{"1":{"name":"keyword.operator.section.begin.string-template"},"2":{"name":"keyword.control.flow.$2.string-template"},"3":{"name":"punctuation.section.conditional.begin.string-template"}},"endCaptures":{"1":{"name":"punctuation.section.conditional.end.string-template"},"2":{"name":"keyword.operator.section.end.string-template"}}}]},"escape":{"name":"constant.character.escape.delimiter.string-template","match":"\\\\[\u003c\u003e]"},"escape$":{"name":"constant.character.escape.delimiter.string-template","match":"\\\\\\$"},"expression":{"patterns":[{"name":"constant.language.boolean.$1.string-template","match":"\\b(true|false)\\b"},{"name":"constant.language.iteration-index.string-template","match":"(?:\\G|^)i0?\\b"},{"name":"constant.character.whitespace.string-template","match":"\\\\[ ntr]"},{"name":"constant.character.escape.codepoint.hex.string-template","match":"\\\\u[0-9A-Fa-f]{4}"},{"name":"constant.character.escape.line-continuation.string-template","match":"\\\\{2}"},{"include":"etc#strDouble"},{"name":"meta.function-call.indirect.string-template","begin":"(?:\\G|^|:)(?=\\()","end":"(?\u003c=\\))","patterns":[{"include":"#expressionGroup"}],"beginCaptures":{"0":{"name":"keyword.operator.separator.string-template"}}},{"name":"meta.argument-list.string-template","begin":"(?\u003c=\\))(?=\\()","end":"(?\u003c=\\))(?!\\G)","patterns":[{"include":"#expressionGroup"}]},{"name":"meta.list.array.string-template","begin":"(?:\\G|^)\\[","end":"\\]","patterns":[{"include":"#bareword"},{"include":"#expression"}],"beginCaptures":{"0":{"name":"punctuation.section.array.begin.string-template"}},"endCaptures":{"0":{"name":"punctuation.section.array.end.string-template"}}},{"include":"#subtemplate"},{"begin":"(?:\\G|^)[-\\w.]+(?=\\s*;\\s*\\w[-\\w.]*=)","end":"(?=[^\\s;])","patterns":[{"match":"(;)\\s*([-\\w.]+)(=)([-\\w.]+)","captures":{"1":{"patterns":[{"include":"etc#semi"}]},"2":{"name":"entity.other.attribute-name.string-template"},"3":{"patterns":[{"include":"etc#eql"}]},"4":{"name":"constant.other.attribute-value.string-template"}}}],"beginCaptures":{"0":{"name":"entity.name.tag.attribute.string-template"}}},{"name":"meta.function-call.string-template","begin":"(?:\\G|^|(?\u003c!\\))(:))([-\\w.]+)(?=\\()","end":"(?\u003c=\\))","patterns":[{"include":"#expressionGroup"}],"beginCaptures":{"1":{"name":"keyword.operator.separator.string-template"},"2":{"patterns":[{"include":"#functionName"}]}}},{"begin":"(?:\\G|^)[-\\w.]+(?=(\\.\\())","end":"(?\u003c=\\))","patterns":[{"name":"meta.subscript.property.indirect-lookup.string-template","begin":"\\G\\.(?=\\()","end":"(?!\\G)","patterns":[{"include":"#expressionGroup"}],"beginCaptures":{"0":{"patterns":[{"include":"etc#dot"}]}}}],"beginCaptures":{"0":{"name":"entity.name.tag.attribute.string-template"}}},{"begin":"(?:\\G|^)([-\\w.]+)(?=\\,)|(?\u003c=\\))(?=\\s*,)","end":"(?=[^-\\w.\\s,])","patterns":[{"begin":"\\s*(,)\\s*([-\\w.]+)(?=\\()","end":"(?\u003c=\\))","patterns":[{"include":"#expressionGroup"}],"beginCaptures":{"1":{"patterns":[{"include":"etc#comma"}]},"2":{"patterns":[{"include":"#functionName"}]}}},{"match":"\\s*(,)\\s*([-\\w.]+)","captures":{"1":{"patterns":[{"include":"etc#comma"}]},"2":{"name":"entity.name.tag.attribute.string-template"}}},{"include":"#expression"}],"beginCaptures":{"1":{"name":"entity.name.tag.attribute.string-template"}}},{"match":"(?:\\G|^)([-\\w.]+)((\\.)([-\\w.]+))?","captures":{"1":{"name":"entity.name.tag.attribute.string-template"},"2":{"name":"meta.subscript.property.direct-lookup.string-template"},"3":{"patterns":[{"include":"etc#dot"}]},"4":{"name":"variable.member.property.string-template"},"5":{"name":"meta.subscript.property.indirect-lookup.string-template"}}},{"include":"etc#kolon"},{"include":"etc#comma"},{"include":"etc#eql"},{"include":"etc#semi"}]},"expressionGroup":{"name":"meta.expression.string-template","begin":"\\(","end":"\\)","patterns":[{"include":"#bareword"},{"include":"#expression"}],"beginCaptures":{"0":{"name":"punctuation.definition.expression.begin.string-template"}},"endCaptures":{"0":{"name":"punctuation.definition.expression.end.string-template"}}},"functionName":{"patterns":[{"name":"support.function.$1.string-template","match":"(?:\\G|^)(first|last|length|rest|reverse|strip|strlen|trim|trunc)$"},{"name":"entity.name.function.string-template","match":"(?:\\G|^)(.+)"}]},"main":{"patterns":[{"include":"#escape"},{"include":"#comment"},{"include":"#conditional"},{"include":"#attribute"}]},"main$":{"patterns":[{"include":"#escape$"},{"include":"#comment$"},{"include":"#conditional$"},{"include":"#attribute$"}]},"subtemplate":{"name":"meta.subtemplate.string-template","begin":"{","end":"}","patterns":[{"name":"keyword.operator.separator.string-template","match":"\\|"},{"include":"#main"},{"include":"#bareword"}],"beginCaptures":{"0":{"name":"punctuation.section.subtemplate.begin.string-template"}},"endCaptures":{"0":{"name":"punctuation.section.subtemplate.end.string-template"}}}},"injections":{"L:source.string-template meta.document.dollar-delimiters.string-template - comment":{"patterns":[{"match":"\u003c|\u003e"},{"include":"#main$"}]}}}
