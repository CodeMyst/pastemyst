{"name":"Yacc/Bison","scopeName":"source.yacc","patterns":[{"include":"#main"}],"repository":{"action":{"patterns":[{"name":"meta.predicate.yacc","begin":"(%\\?)({)","end":"}","patterns":[{"include":"#action-innards"}],"beginCaptures":{"1":{"name":"keyword.operator.predicate.action.yacc"},"2":{"name":"punctuation.section.block.begin.bracket.curly.c"}},"endCaptures":{"0":{"name":"punctuation.section.block.end.bracket.curly.c"}}},{"name":"meta.action.yacc","begin":"{","end":"}","patterns":[{"include":"#action-innards"}],"beginCaptures":{"0":{"name":"punctuation.section.block.begin.bracket.curly.c"}},"endCaptures":{"0":{"name":"punctuation.section.block.end.bracket.curly.c"}}}]},"action-innards":{"patterns":[{"begin":"{","end":"}","patterns":[{"include":"#action-innards"}],"beginCaptures":{"0":{"name":"punctuation.section.block.begin.bracket.curly.c"}},"endCaptures":{"0":{"name":"punctuation.section.block.end.bracket.curly.c"}}},{"include":"#action-vars"},{"include":"#bison-defs"},{"include":"source.c++"}]},"action-vars":{"patterns":[{"name":"constant.language.predefined-symbol.$2.yacc","match":"(\\$)(undefined|accept|end)(?![-.])\\b","captures":{"1":{"name":"punctuation.definition.symbol.yacc"}}},{"name":"constant.language.predefined-symbol.error.yacc","match":"(?\u003c![-.$])\\b(error)(?![-.])\\b"},{"name":"variable.language.midrule-action-symbol.$2.nth.yacc","match":"(\\$@)([0-9]+)","captures":{"1":{"name":"punctuation.definition.variable.yacc"}}},{"name":"variable.language.rule-location.lhs.yacc","match":"(@)\\$","captures":{"1":{"name":"punctuation.definition.variable.yacc"}}},{"name":"variable.language.positional.rule-location.rhs.$2.yacc.yacc","match":"(@)([0-9]+)","captures":{"1":{"name":"punctuation.definition.variable.yacc"}}},{"name":"variable.language.rule-value.lhs.yacc","match":"(\\$)\\$","captures":{"1":{"name":"punctuation.definition.variable.yacc"}}},{"name":"variable.language.positional.rule-value.rhs.$2.yacc.yacc","match":"(\\$)([0-9]+)","captures":{"1":{"name":"punctuation.definition.variable.yacc"}}},{"name":"variable.language.symbol-location.yacc","match":"(@)[A-Za-z_.][-.\\w]*|(@)(\\[)\\s*[A-Za-z_.][-.\\w]*\\s*(\\])","captures":{"1":{"name":"punctuation.definition.variable.yacc"},"2":{"name":"punctuation.definition.variable.yacc"},"3":{"name":"punctuation.section.begin.brace.bracket.square.yacc"},"4":{"name":"punctuation.section.end.bbrace.racket.square.yacc"}}},{"name":"variable.language.symbol-value.yacc","match":"(\\$)[A-Za-z_.][-.\\w]*|(\\$\\[)\\s*[A-Za-z_.][-.\\w]*\\s*(\\])","captures":{"1":{"name":"punctuation.definition.variable.yacc"},"2":{"name":"punctuation.definition.variable.begin.yacc"},"3":{"name":"punctuation.definition.variable.end.yacc"}}}]},"bison-defs":{"patterns":[{"name":"support.function.$1.yacc","match":"(?x) (?\u003c![.-]) \\b\n(YYABORT|YYACCEPT|YYBACKUP|YYDEBUG|YYERROR_VERBOSE|YYERROR|YYFPRINTF|YYINITDEPTH\n|YYMAXDEPTH|YYPRINT|YYRECOVERING|YYSTACK_USE_ALLOCA|yyerrok|yyerror|yylex|yyparse\n|yypstate_delete|yypstate_new|yypull_parse|yypush_parse)\n\\b (?![.-])"},{"name":"support.variable.$1.yacc","match":"(?\u003c![.-])\\b(yychar|yyclearin|yydebug|yylloc|yylval|yynerrs)\\b(?![.-])"},{"name":"support.type.$1.yacc","match":"(?\u003c![.-])\\b(YYSTYPE|YYLTYPE)\\b(?![.-])"}]},"comment":{"name":"comment.block.yacc","begin":"/\\*","end":"\\*/","beginCaptures":{"0":{"name":"punctuation.definition.comment.begin.yacc"}},"endCaptures":{"0":{"name":"punctuation.definition.comment.end.yacc"}}},"constant":{"name":"constant.language.other.token.yacc","match":"\\w+"},"data-type":{"patterns":[{"name":"storage.modifier.type.yacc","match":"(\u003c)(\\*)(\u003e)","captures":{"1":{"name":"punctuation.definition.angle.bracket.begin.yacc"},"2":{"name":"constant.language.default.yacc"},"3":{"name":"punctuation.definition.angle.bracket.end.yacc"}}},{"name":"storage.modifier.type.yacc","begin":"\u003c","end":"\u003e","beginCaptures":{"0":{"name":"punctuation.definition.angle.bracket.begin.yacc"}},"endCaptures":{"0":{"name":"punctuation.definition.angle.bracket.end.yacc"}}}]},"declaration-innards":{"patterns":[{"include":"#constant"},{"include":"#comment"},{"include":"#string"},{"include":"#data-type"}]},"declaration-section":{"name":"meta.declarations.yacc","begin":"(?\u003c=%})","end":"^(?=\\s*%%)","patterns":[{"include":"#declarations"},{"include":"#comment"},{"include":"#data-type"}]},"declarations":{"patterns":[{"begin":"^\\s*((%)union)\\b","end":"^(?=\\s*%)|(?\u003c=})","patterns":[{"include":"source.c++"}],"beginCaptures":{"1":{"name":"keyword.control.directive.union.yacc"},"2":{"name":"punctuation.definition.token.percentage-sign.yacc"}}},{"name":"meta.code-block.yacc","begin":"^\\s*((%)code)\\s+(imports)\\s*({)","end":"}","patterns":[{"include":"source.java"}],"beginCaptures":{"1":{"name":"keyword.control.directive.code.yacc"},"2":{"name":"punctuation.definition.token.percentage-sign.yacc"},"3":{"name":"constant.language.other.qualifier.yacc"},"4":{"name":"punctuation.definition.curly.bracket.begin.yacc"}},"endCaptures":{"0":{"name":"punctuation.definition.curly.bracket.end.yacc"}}},{"name":"meta.$3-block.yacc","begin":"^\\s*((%)(code|lex-param|parse-param|param|printer))(?:\\s+(\\w+))?\\s*({)","end":"}","patterns":[{"include":"source.c++"}],"beginCaptures":{"1":{"name":"keyword.control.directive.$3.yacc"},"2":{"name":"punctuation.definition.token.percentage-sign.yacc"},"4":{"name":"constant.language.other.qualifier.yacc"},"5":{"name":"punctuation.definition.curly.bracket.begin.yacc"}},"endCaptures":{"0":{"name":"punctuation.definition.curly.bracket.end.yacc"}}},{"name":"meta.defines.yacc","match":"^\\s*((%)defines)(?=\\s|$|/\\*|//)(?:\\s+(?!//|/\\*)(\\S+))?","captures":{"1":{"name":"keyword.control.directive.defines.yacc"},"2":{"name":"punctuation.definition.token.percentage-sign.yacc"},"3":{"name":"string.unquoted.filename.yacc"}}},{"begin":"^\\s*((%)define)(?:\\s+([A-Za-z_.][-.\\w]*))?\\s*({)","end":"}","patterns":[{"include":"source.c++"}],"beginCaptures":{"1":{"name":"keyword.control.directive.define.yacc"},"2":{"name":"punctuation.definition.token.percentage-sign.yacc"},"3":{"name":"entity.name.var.yacc"},"4":{"name":"punctuation.definition.curly.bracket.begin.yacc"}},"endCaptures":{"0":{"name":"punctuation.definition.curly.bracket.end.yacc"}}},{"begin":"^\\s*((%)define)(?:\\s+([A-Za-z_.][-.\\w]*))?","end":"(?=\\s*$)|^(?!\\s{2,}(?=\\w))|^(?=\\s*%%)","patterns":[{"include":"#declaration-innards"}],"beginCaptures":{"1":{"name":"keyword.control.directive.define.yacc"},"2":{"name":"punctuation.definition.token.percentage-sign.yacc"},"3":{"name":"entity.name.var.yacc"}}},{"begin":"^\\s*((%)option)(?=\\s|$)","end":"$|(?=\\s*(?://|/\\*))|^(?=\\s*%%)","patterns":[{"name":"constant.language.option-name.yacc","match":"[A-Za-z_.][-.\\w]*"},{"include":"#declaration-innards"}],"beginCaptures":{"1":{"name":"keyword.control.directive.option.yacc"},"2":{"name":"punctuation.definition.token.percentage-sign.yacc"}}},{"begin":"(?x)\n^\\s* ((%)\n(code|debug|destructor|dprec|empty|error-verbose|expect-rr|expect\n|file-prefix|glr-parser|initial-action|language|left|lex-param\n|locations|merge|name-prefix|no-lines|nonassoc|nterm|output|param\n|parse-param|precedence|prec|printer|pure-parser|required?|right|skeleton\n|start|token-table|token|type|verbose|yacc))\\b","end":"^(?!\\s{2,}(?=\\w))|^(?=\\s*%%)","patterns":[{"include":"#declaration-innards"}],"beginCaptures":{"1":{"name":"keyword.control.directive.$3.yacc"},"2":{"name":"punctuation.definition.token.percentage-sign.yacc"}}},{"begin":"^\\s*(%{)","end":"^\\s*(%})","patterns":[{"include":"source.c++"}],"beginCaptures":{"1":{"name":"punctuation.section.embedded.begin.yacc"}},"endCaptures":{"1":{"name":"punctuation.section.embedded.end.yacc"}}}]},"epilogue":{"name":"meta.epilogue.yacc","begin":"(?\u003c=%%)","end":"(?=A)B","patterns":[{"include":"source.c++"}]},"main":{"patterns":[{"include":"#comment"},{"include":"#prologue"},{"include":"#declaration-section"},{"include":"#rules"},{"include":"#epilogue"},{"include":"source.c++"}]},"prologue":{"patterns":[{"name":"punctuation.section.embedded.begin.yacc","match":"^\\s*(%{)"},{"name":"punctuation.section.embedded.end.yacc","match":"^\\s*(%})"},{"include":"#declarations"}]},"rule":{"name":"meta.rule.yacc","begin":"^\\s*([A-Za-z_.][-.\\w]*)\\s*(:)","end":"\\s*(;)\\s*","patterns":[{"name":"entity.name.rule.yacc","match":"([A-Za-z_.][-.\\w]*)"},{"name":"keyword.operator.logical.or.yacc","match":"\\|"},{"include":"#comment"},{"include":"#string"},{"include":"#action"}],"beginCaptures":{"1":{"name":"entity.name.rule.yacc"},"2":{"name":"punctuation.separator.key-value.colon.yacc"}},"endCaptures":{"1":{"name":"punctuation.terminator.statement.semicolon.yacc"}}},"rules":{"name":"meta.rules.yacc","begin":"^\\s*(%%)","end":"^\\s*(%%)","patterns":[{"include":"#comment"},{"include":"#rule"}],"beginCaptures":{"1":{"name":"keyword.control.section.begin.yacc"}},"endCaptures":{"1":{"name":"keyword.control.section.end.yacc"}}},"string":{"patterns":[{"name":"string.quoted.double.yacc","begin":"\"","end":"\"","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.yacc"}},"endCaptures":{"0":{"name":"punctuation.definition.string.end.yacc"}}},{"name":"string.quoted.single.yacc","begin":"'","end":"'","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.yacc"}},"endCaptures":{"0":{"name":"punctuation.definition.string.end.yacc"}}}]}}}
